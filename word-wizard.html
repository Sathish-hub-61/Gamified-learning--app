<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Wizard - PlayLearn</title>

    <link rel="stylesheet" href="css/global.css">

    <style>
        body {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            min-height: 100vh;
            padding: var(--spacing-md);
        }

        .game-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .header {
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--shadow-md);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .score {
            font-size: var(--font-size-xl);
            font-weight: 700;
            color: var(--primary-blue);
        }

        .question-card {
            background: var(--white);
            border-radius: var(--radius-xl);
            padding: var(--spacing-2xl);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--shadow-lg);
            text-align: center;
        }

        .game-type {
            display: inline-block;
            background: var(--gradient-ocean);
            color: var(--white);
            padding: var(--spacing-xs) var(--spacing-md);
            border-radius: var(--radius-full);
            font-size: var(--font-size-sm);
            font-weight: 600;
            margin-bottom: var(--spacing-lg);
        }

        .question {
            font-size: var(--font-size-xl);
            color: var(--neutral-medium);
            margin-bottom: var(--spacing-md);
        }

        .word-display {
            font-size: var(--font-size-3xl);
            font-weight: 700;
            color: var(--primary-blue);
            margin: var(--spacing-xl) 0;
            letter-spacing: 0.5rem;
            font-family: 'Courier New', monospace;
        }

        .hint {
            font-size: var(--font-size-lg);
            color: var(--neutral-medium);
            font-style: italic;
            margin-bottom: var(--spacing-xl);
        }

        .answer-input {
            font-size: var(--font-size-2xl);
            padding: var(--spacing-lg);
            border: 3px solid var(--neutral-light);
            border-radius: var(--radius-md);
            text-align: center;
            width: 100%;
            max-width: 400px;
            margin: var(--spacing-lg) 0;
            text-transform: uppercase;
        }

        .answer-input:focus {
            outline: none;
            border-color: var(--primary-blue);
        }

        .submit-btn {
            font-size: var(--font-size-xl);
            padding: var(--spacing-md) var(--spacing-2xl);
            margin: var(--spacing-md);
        }

        .feedback {
            margin-top: var(--spacing-lg);
            padding: var(--spacing-lg);
            border-radius: var(--radius-md);
            font-size: var(--font-size-lg);
            font-weight: 600;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: var(--success);
            color: var(--white);
        }

        .feedback.wrong {
            background: var(--warning);
            color: var(--white);
        }
    </style>
</head>

<body>
    <div class="game-container">
        <div class="header">
            <h2>üìù Word Wizard</h2>
            <div class="score">Score: <span id="score">0</span></div>
        </div>

        <div class="question-card">
            <span class="game-type" id="game-type">Unscramble</span>

            <p class="question" id="question">Unscramble the letters to make a word:</p>

            <div class="word-display" id="word-display">TAC</div>

            <p class="hint" id="hint">üí° Hint: A furry pet that says "meow"</p>

            <input type="text" class="answer-input" id="answer" placeholder="Type your answer" autofocus>

            <br>

            <button class="btn btn-primary submit-btn" onclick="checkAnswer()">
                Check Answer ‚úì
            </button>

            <button class="btn btn-success submit-btn" onclick="skipQuestion()">
                Skip ‚Üí
            </button>

            <div class="feedback" id="feedback"></div>
        </div>

        <button class="btn btn-primary" onclick="window.location.href='game-hub-6-9.html'" style="width: 100%;">
            ‚Üê Back to Games
        </button>
    </div>

    <script src="js/audio-manager.js"></script>
    <script>
        const audioManager = new AudioManager();
        let score = 0;
        let currentQuestion = 0;

        const scrambleWords = [
            { word: 'CAT', scrambled: 'TCA', hint: 'A furry pet that says "meow"' },
            { word: 'DOG', scrambled: 'OGD', hint: 'A loyal pet that barks' },
            { word: 'SUN', scrambled: 'NUS', hint: 'Bright light in the sky' },
            { word: 'TREE', scrambled: 'EETR', hint: 'Tall plant with leaves' },
            { word: 'BOOK', scrambled: 'KOOB', hint: 'You read this' },
            { word: 'STAR', scrambled: 'RATS', hint: 'Twinkles in the night sky' },
            { word: 'FISH', scrambled: 'HIFS', hint: 'Swims in water' },
            { word: 'BIRD', scrambled: 'RIDB', hint: 'Has wings and can fly' }
        ];

        const missingLetterWords = [
            { word: 'APPLE', display: 'A_PLE', hint: 'A red or green fruit' },
            { word: 'HOUSE', display: 'HO_SE', hint: 'Where you live' },
            { word: 'WATER', display: 'WA_ER', hint: 'You drink this' },
            { word: 'HAPPY', display: 'HA_PY', hint: 'Feeling joyful' },
            { word: 'SMILE', display: 'SM_LE', hint: 'You do this when happy' }
        ];

        let currentType = 'scramble';
        let questions = scrambleWords;

        function loadQuestion() {
            const q = questions[currentQuestion];
            const feedback = document.getElementById('feedback');
            feedback.classList.remove('show');
            document.getElementById('answer').value = '';

            if (currentType === 'scramble') {
                document.getElementById('game-type').textContent = 'Unscramble';
                document.getElementById('question').textContent = 'Unscramble the letters to make a word:';
                document.getElementById('word-display').textContent = q.scrambled;
            } else {
                document.getElementById('game-type').textContent = 'Fill the Blank';
                document.getElementById('question').textContent = 'Fill in the missing letter:';
                document.getElementById('word-display').textContent = q.display;
            }

            document.getElementById('hint').textContent = `üí° Hint: ${q.hint}`;
            document.getElementById('answer').focus();
        }

        function checkAnswer() {
            const userAnswer = document.getElementById('answer').value.toUpperCase().trim();
            const q = questions[currentQuestion];
            const feedback = document.getElementById('feedback');

            if (!userAnswer) {
                feedback.textContent = 'Please type an answer!';
                feedback.className = 'feedback wrong show';
                return;
            }

            if (userAnswer === q.word) {
                score += 10;
                document.getElementById('score').textContent = score;
                feedback.textContent = `üéâ Correct! The word is ${q.word}`;
                feedback.className = 'feedback correct show';
                audioManager.playSound('correct');

                setTimeout(() => {
                    nextQuestion();
                }, 2000);
            } else {
                feedback.textContent = `Not quite! Try again or click Skip`;
                feedback.className = 'feedback wrong show';
                audioManager.playSound('wrong');
            }
        }

        function skipQuestion() {
            const q = questions[currentQuestion];
            const feedback = document.getElementById('feedback');
            feedback.textContent = `The answer was: ${q.word}`;
            feedback.className = 'feedback show';
            feedback.style.background = 'var(--primary-blue)';
            feedback.style.color = 'var(--white)';

            setTimeout(() => {
                nextQuestion();
            }, 2000);
        }

        function nextQuestion() {
            currentQuestion++;

            if (currentQuestion >= questions.length) {
                if (currentType === 'scramble') {
                    // Switch to missing letter type
                    currentType = 'missing';
                    questions = missingLetterWords;
                    currentQuestion = 0;
                } else {
                    // Loop back to scramble
                    currentType = 'scramble';
                    questions = scrambleWords;
                    currentQuestion = 0;
                }
            }

            loadQuestion();
        }

        // Allow Enter key to submit
        document.getElementById('answer').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });

        loadQuestion();
    </script>
</body>

</html>